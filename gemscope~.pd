#N canvas 983 348 722 443 10;
#N canvas 669 218 495 338 gem.init 0;
#X obj 36 96 gemwin;
#X msg 63 24 destroy;
#X obj 36 -19 inlet;
#X obj 36 3 sel 1;
#X msg 36 46 FSAA 4 \, dimen 800 600 \, fullscreen 0 \, color 0 0 0
\, frame 60 \, create \, 1;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 1 0;
#X connect 4 0 0 0;
#X restore 245 193 pd gem.init;
#X obj 167 123 tgl 15 0 empty empty _ON -3 -5 0 10 -257985 -1 -1 1
1;
#X text 485 124 Depth of Field simulation by Guido;
#X text 485 143 http://guidotamino.it/projects/depth-of-field/;
#X obj 165 216 inlet~;
#X obj 179 242 inlet~;
#X obj 199 282 inlet~;
#X obj 13 275 gemhead;
#X obj 103 144 hsl 70 15 0 0.99 0 0 empty empty persistence -1 8 0
10 -262144 -1 -1 6400 1;
#X floatatom 136 122 5 1 8 0 width - -;
#X obj 100 181 sqrt;
#N canvas 483 270 542 615 scope 1;
#X obj 15 116 gemframebuffer;
#X obj 16 213 translateXYZ 0 0 -4;
#X obj 15 7 inlet;
#X obj 9 459 outlet;
#X obj 304 52 gemhead;
#X obj 31 67 loadbang;
#X msg 31 89 rectangle 1 \, dimen 1024 1024;
#X obj 285 268 pix_texture;
#X obj 338 179 loadbang;
#X obj 280 354 color 0.2 1 0.2;
#X msg 338 201 rectangle 1;
#X obj 410 311 gemhead;
#X obj 410 457 pix_texture;
#X obj 303 79 gemframebuffer;
#X obj 16 176 pix_texture;
#X obj 284 327 translateXYZ 0 0 -4;
#X obj 11 271 t a a;
#X obj 38 322 color 0.9 0.9 0.9;
#X msg 194 271 \$1 \$1 \$1;
#X obj 38 350 square 4;
#X obj 280 380 square 4;
#X obj 422 514 rectangle 7 4;
#X obj 9 437 pix_shader zToLum;
#X text 70 297 feedback for persistence;
#X obj 197 9 inlet persistence;
#X text 273 495 if you want to change aspect-ratio ->, f 21;
#X obj 410 549 rectangle 6 4;
#X connect 0 0 14 0;
#X connect 0 1 7 1;
#X connect 1 0 16 0;
#X connect 2 0 0 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 6 0 13 0;
#X connect 7 0 15 0;
#X connect 8 0 10 0;
#X connect 9 0 20 0;
#X connect 10 0 12 0;
#X connect 10 0 7 0;
#X connect 10 0 14 0;
#X connect 11 0 12 0;
#X connect 12 0 26 0;
#X connect 13 0 7 0;
#X connect 13 1 12 1;
#X connect 13 1 14 1;
#X connect 14 0 1 0;
#X connect 15 0 9 0;
#X connect 16 0 22 0;
#X connect 16 1 17 0;
#X connect 17 0 19 0;
#X connect 18 0 17 1;
#X connect 22 0 3 0;
#X connect 24 0 18 0;
#X restore 13 329 pd scope;
#X text 434 65 gemscope~ https://github.com/jyg/gemscope-;
#X text 432 96 inspired by;
#X text 120 329 the shader converts z-depth into grey value;
#N canvas 739 299 1062 838 gem/scope~ 0;
#X obj 34 32 inlet;
#X obj 34 268 scopeXYZ~ 1024, f 30;
#X msg 272 82 width \$1;
#X obj 212 177 *~ 0.001;
#X obj 212 200 *~ -1;
#X obj 212 224 clip~ -1 0;
#X obj 34 93 alpha;
#X obj 34 70 scale 4 4 4;
#X obj 92 32 inlet~;
#X obj 152 32 inlet~;
#X obj 211 32 inlet~;
#X obj 272 34 inlet;
#X text 299 195 "flattenize" z axis;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 3;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 1 1;
#X connect 9 0 1 2;
#X connect 10 0 3 0;
#X connect 11 0 2 0;
#X restore 13 387 pd gem/scope~;
#X obj 243 118 select 0 1;
#X msg 243 141 label OFF;
#X msg 240 164 label _ON;
#X connect 1 0 0 0;
#X connect 1 0 16 0;
#X connect 4 0 15 1;
#X connect 5 0 15 2;
#X connect 6 0 15 3;
#X connect 7 0 11 0;
#X connect 8 0 10 0;
#X connect 9 0 15 4;
#X connect 10 0 11 1;
#X connect 11 0 15 0;
#X connect 16 0 17 0;
#X connect 16 1 18 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X coords 0 -1 1 1 85 60 1 100 100;
